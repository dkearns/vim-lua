-- Well structured code
tostring(self.x)
for i in x do
    if x then
        while 1 do
            local a = function()
                if 1 then
                    if 1 then
                        call()
                    end
                elseif 1 then
                    call()
                    if 1 then
                        call()
                    else
                        call_2()
                    end
                else
                    call()
                end
                while 3 do
                    call()
                end
                repeat
                    x()
                until y
            end
            local tbl = {
                a = function()
                    do call() end
                    if 1 TODO then
                        call()
                    elseif TODO then
                        call_2()
                    else
                        TODO
                        call()
                        call()
                    end
                end
            }
        end
    end
end
